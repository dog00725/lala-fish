package com.lianlian.loan.loansecuritydata.rpcservice;

import com.alibaba.fastjson.JSONObject;
import com.lianlian.loan.loansecuritydata.TestSupport;
import com.lianlian.loan.loansecuritydata.service.request.RiskDateFlattenRequest;
import org.junit.Test;

import javax.annotation.Resource;

/**
 * @Author: huqs
 * @Date: 2022/10/12 16:50
 */
public class RiskDataFlattenRpcServiceTest extends TestSupport {
    @Resource
    private RiskDataFlattenRpcService riskDataFlattenRpcService;

    @Test
    public void test() {
        RiskDateFlattenRequest request = JSONObject.parseObject("{\"estimateData\":{\"thirdUserId\":\"P12345678\",\"trackBizParamsIdNumber\":\"340221199301066508\",\"shopInfo\":[{\"invoke_shopProductAuditPassRateL3m\":\"[70%,90%)\",\"invoke_shopFinOrderCntGrowthRateL3m\":\"[-0.5,0)\",\"invoke_shopProductCntOnline\":\"[100,200)\",\"invoke_shopScrapRateL3m\":\"[0%,5%)\",\"invoke_shopInfringeRateL3m\":\"[0%,5%)\",\"invoke_shopRefundRateL3m\":\"[0%,5%)\",\"invoke_shopRepeatBuyerRateL3m\":\"(0,0.3)\",\"invoke_shopProductHasRecordCntGrowthRateL3m\":\"[-0.5,0.5)\",\"invoke_shopFinOrderAmtL6m\":\"[6000,18000)\",\"invoke_shopOnlineTotalTimeL1m\":\"[15,30)\",\"invoke_allAccountsBeSeverelyPunishedCntL3m\":\"1\",\"sellerId\":\"ff808081736b207d01736b849522135c\",\"invoke_shopFinOrderCntL3m\":\"[200,+)\",\"invoke_shopDhgateMthMax\":17,\"invoke_shopOrderExcutAvgTimeL3m\":\"[15,30)\",\"invoke_shopUseTopParcelRateL6m\":\"(0,0.3)\",\"invoke_shopCamelsScore\":\"720\",\"invoke_shopMthAvgGMVL12m\":\"[1000,5000)\",\"invoke_shopTotalGMVL12m\":20683.76,\"invoke_shopDisputeRateL3m\":\"[0%,5%)\"},{\"invoke_shopProductAuditPassRateL3m\":\"[50%,70%)\",\"invoke_shopFinOrderCntGrowthRateL3m\":\"[-0.5,0)\",\"invoke_shopProductCntOnline\":\"[100,200)\",\"invoke_shopScrapRateL3m\":\"[0%,5%)\",\"invoke_shopInfringeRateL3m\":\"[10%,20%)\",\"invoke_shopRefundRateL3m\":\"[0%,5%)\",\"invoke_shopRepeatBuyerRateL3m\":\"(0,0.3)\",\"invoke_shopProductHasRecordCntGrowthRateL3m\":\"[-0.5,0.5)\",\"invoke_shopOnlineTotalTimeL1m\":\"[30,90)\",\"invoke_allAccountsBeSeverelyPunishedCntL3m\":\"1\",\"sellerId\":\"ff80808176a87dc20176cc28831c3b51\",\"invoke_shopFinOrderCntL3m\":\"[200,+)\",\"invoke_shopDhgateMthMax\":13,\"invoke_shopOrderExcutAvgTimeL3m\":\"[15,30)\",\"invoke_shopUseTopParcelRateL6m\":\"(0,0.3)\",\"invoke_shopCamelsScore\":\"751\",\"invoke_shopMthAvgGMVL12m\":\"[5000,5000+)\",\"invoke_shopTotalGMVL12m\":72219.91,\"invoke_shopDisputeRateL3m\":\"[0%,5%)\"},{\"invoke_shopProductAuditPassRateL3m\":\"[15%,50%)\",\"invoke_shopFinOrderCntGrowthRateL3m\":\"[-0.5,0)\",\"invoke_shopProductCntOnline\":\"[50,100)\",\"invoke_shopScrapRateL3m\":\"[0%,5%)\",\"invoke_shopInfringeRateL3m\":\"[0%,5%)\",\"invoke_shopRefundRateL3m\":\"[0%,5%)\",\"invoke_shopRepeatBuyerRateL3m\":\"(0,0.3)\",\"invoke_shopProductHasRecordCntGrowthRateL3m\":\"[-0.5,0.5)\",\"invoke_shopFinOrderAmtL6m\":\"[6000,18000)\",\"invoke_shopOnlineTotalTimeL1m\":\"[15,30)\",\"invoke_allAccountsBeSeverelyPunishedCntL3m\":\"1\",\"sellerId\":\"ff8080817913e2a601794108c62859c1\",\"invoke_shopFinOrderCntL3m\":\"[200,+)\",\"invoke_shopDhgateMthMax\":6,\"invoke_shopOrderExcutAvgTimeL3m\":\"[15,30)\",\"invoke_shopUseTopParcelRateL6m\":\"(0,0.3)\",\"invoke_shopCamelsScore\":\"677\",\"invoke_shopMthAvgGMVL12m\":\"[1000,5000)\",\"invoke_shopTotalGMVL12m\":9590.75,\"invoke_shopDisputeRateL3m\":\"[0%,5%)\"},{\"invoke_shopProductAuditPassRateL3m\":\"[50%,70%)\",\"invoke_shopFinOrderCntGrowthRateL3m\":\"[-0.5,0)\",\"invoke_shopProductCntOnline\":\"[50,100)\",\"invoke_shopScrapRateL3m\":\"[0%,5%)\",\"invoke_shopInfringeRateL3m\":\"[0%,5%)\",\"invoke_shopRefundRateL3m\":\"[0%,5%)\",\"invoke_shopRepeatBuyerRateL3m\":\"(0,0.3)\",\"invoke_shopProductHasRecordCntGrowthRateL3m\":\"[-0.5,0.5)\",\"invoke_shopFinOrderAmtL6m\":\"[600,6000)\",\"invoke_shopOnlineTotalTimeL1m\":\"(0,15)\",\"invoke_allAccountsBeSeverelyPunishedCntL3m\":\"1\",\"sellerId\":\"ff8080816893c9720168ffae4d854ada\",\"invoke_shopFinOrderCntL3m\":\"[100,200)\",\"invoke_shopDhgateMthMax\":36,\"invoke_shopOrderExcutAvgTimeL3m\":\"[15,30)\",\"invoke_shopUseTopParcelRateL6m\":\"(0,0.3)\",\"invoke_shopCamelsScore\":\"691\",\"invoke_shopMthAvgGMVL12m\":\"[300,1000)\",\"invoke_shopTotalGMVL12m\":4765.75,\"invoke_shopDisputeRateL3m\":\"[0%,5%)\"},{\"invoke_shopProductAuditPassRateL3m\":\"[70%,90%)\",\"invoke_shopFinOrderCntGrowthRateL3m\":\"(0,0.5)\",\"invoke_shopProductCntOnline\":\"[100,200)\",\"invoke_shopScrapRateL3m\":\"[5%,10%)\",\"invoke_shopInfringeRateL3m\":\"[0%,5%)\",\"invoke_shopRefundRateL3m\":\"[0%,5%)\",\"invoke_shopRepeatBuyerRateL3m\":\"0\",\"invoke_shopProductHasRecordCntGrowthRateL3m\":\"[-0.5,0.5)\",\"invoke_shopFinOrderAmtL6m\":\"[600,6000)\",\"invoke_shopOnlineTotalTimeL1m\":\"(0,15)\",\"invoke_allAccountsBeSeverelyPunishedCntL3m\":\"1\",\"sellerId\":\"ff80808156dff1a40156ea25e29e0fc9\",\"invoke_shopFinOrderCntL3m\":\"[10,30)\",\"invoke_shopDhgateMthMax\":65,\"invoke_shopOrderExcutAvgTimeL3m\":\"[15,30)\",\"invoke_shopUseTopParcelRateL6m\":\"(0,0.3)\",\"invoke_shopCamelsScore\":\"650\",\"invoke_shopMthAvgGMVL12m\":\"[100,300)\",\"invoke_shopTotalGMVL12m\":2160.97,\"invoke_shopDisputeRateL3m\":\"[0%,5%)\"}],\"trackBizParamsName\":\"徐萍\",\"userId\":\"BU202202210000538030\",\"authInfo\":{\"needSignCreditReport\":\"false\"},\"productCode\":\"product_dhgate\",\"sellerId\":[\"ff808081736b207d01736b849522135c\",\"ff80808176a87dc20176cc28831c3b51\",\"ff8080817913e2a601794108c62859c1\",\"ff8080816893c9720168ffae4d854ada\",\"ff80808156dff1a40156ea25e29e0fc9\"],\"bizOrderId\":\"KAS202210120001071139\",\"merchantId\":\"L20211118000001\",\"sceneCode\":\"credit_submit\",\"emergeLinkedMan\":[{\"related\":\"亲属\",\"mobile\":\"13012345655\",\"name\":\"耳朵\"},{\"related\":\"其他\",\"mobile\":\"13012345555\",\"name\":\"韩宝宝\"}],\"userType\":\"1\",\"basic\":{\"education\":\"本科\",\"address\":\"浙江省杭州市滨江区长河街道长江小区1幢1单元302室\",\"faceDetectionResult\":\"一致\",\"bankCardNo\":\"6214836555048442\",\"idCard\":\"431024198906282445\",\"userMobile\":\"13825153012\",\"userName\":\"雷婷\",\"faceDetectionWhenLoan\":\"否\",\"maritalStatus\":\"未婚\",\"bizAddress\":\"杭州市滨江区网易大厦\"},\"loanId\":\"KAS202210120001071139\"},\"productCode\":\"product_dhgate\",\"sceneCode\":\"credit_submit\"}",RiskDateFlattenRequest.class);
        riskDataFlattenRpcService.flatten(request);
    }
}
